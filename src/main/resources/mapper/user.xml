<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.help.dao.UserDao">
	<!--<resultMap  type="com.help.entity.User" id="map_user">-->
		<!--<result property="uid" column="uid"/>-->
		<!--<result property="name" column="name" />-->
		<!--<result property="gender" column="gender"/>-->
		<!--<result property="age" column="age"/>-->
		<!--<result property="email" column="email"/>-->
		<!--<result property="phone" column="phone"/>-->
		<!--<result property="responsidle" column="responsidle"/>-->
		<!--<result property="org_name2" column="org_name"/>-->
	<!--</resultMap>-->
	<select id="findAllUser" resultType="com.help.entity.User">
		select u.uid,u.name,u.gender,u.age,u.email,u.phone,u.responsidle,org.org_name from user u
		LEFT JOIN organizations org on u.org_name=org.orgid ;
	</select>
	<!-- 删除用户 -->
	<delete id="removeUserById">
		delete from user where uid in
		<foreach collection="list" item="x" open="(" separator="," close=")">
			#{x}
		</foreach>
	</delete>
	<select id="findAllorg" resultType="com.help.entity.Organizations">
		select orgid,org_name from organizations
	</select>
	<insert id="addUser" parameterType="com.help.entity.User">
		insert into user(uid,name,gender,age,email,phone,responsidle,org_name)
		values(#{uid},#{name},#{gender},#{age},#{email},#{phone},#{responsidle},#{org_name})
	</insert>

	<update id="editUser" parameterType="com.help.entity.User">
		update  user set name=#{name},gender=#{gender},age=#{age},email=#{email},phone=#{phone},responsidle=#{responsidle},org_name=#{org_name}
	where uid = #{uid}
	</update>

</mapper>